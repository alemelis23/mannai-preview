<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preview ‚Äî Cartolibreria Mannai Orietta | WooCommerce</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
/* ===== ROOT ===== */
:root {
  --teal:#1a6b6b; --teal-dark:#124f4f; --teal-light:#2a8a8a;
  --teal-pale:#e8f4f4; --teal-mid:#b2d8d8;
  --cream:#faf9f6; --white:#fff; --charcoal:#1c1c1c;
  --gray:#6b7280; --gray-light:#f3f4f6; --gold:#c9a84c;
  --shadow:0 4px 24px rgba(26,107,107,.12);
  --shadow-lg:0 12px 48px rgba(26,107,107,.18);
  --r:12px; --r-sm:8px;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--charcoal);font-size:15px;line-height:1.6}
h1,h2,h3,h4{font-family:'Cormorant Garamond',serif;line-height:1.2}
a{text-decoration:none;color:inherit}
img{max-width:100%;display:block}
button{cursor:pointer;font-family:'DM Sans',sans-serif}

/* ===== PREVIEW BANNER ===== */
.preview-banner{
  position:fixed;bottom:0;left:0;right:0;z-index:9999;
  background:linear-gradient(90deg,var(--teal-dark),#0d3b3b);
  color:white;padding:10px 20px;
  display:flex;align-items:center;justify-content:space-between;
  font-size:0.78rem;gap:12px;flex-wrap:wrap;
  box-shadow:0 -4px 20px rgba(0,0,0,0.3);
}
.preview-banner strong{color:var(--gold)}
.pb-pages{display:flex;gap:6px;flex-wrap:wrap}
.pb-btn{
  padding:6px 14px;border-radius:50px;border:1px solid rgba(255,255,255,.25);
  background:transparent;color:white;font-size:0.72rem;font-weight:600;
  cursor:pointer;transition:all .2s;font-family:'DM Sans',sans-serif;
}
.pb-btn:hover,.pb-btn.active{background:var(--gold);color:var(--charcoal);border-color:var(--gold)}

/* ===== PAGES ===== */
.page{display:none;padding-bottom:80px}
.page.active{display:block}

/* ===== TOPBAR ===== */
.topbar{
  background:var(--teal-dark);color:white;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 20px;height:46px;font-size:0.75rem;gap:8px;flex-wrap:wrap;
}
.topbar a{color:var(--gold);font-weight:600}
.topbar-right{display:flex;gap:14px;align-items:center}

/* ===== NAV ===== */
.sitenav{
  background:white;border-bottom:1px solid var(--teal-mid);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 24px;height:58px;position:sticky;top:0;z-index:100;
  box-shadow:0 2px 12px rgba(0,0,0,.06);
}
.nav-brand{font-family:'Cormorant Garamond',serif;font-size:1.3rem;font-weight:700;color:var(--teal-dark)}
.nav-links{display:flex;list-style:none;gap:0}
.nav-links a{
  display:block;padding:0 13px;line-height:58px;
  font-size:0.8rem;font-weight:500;color:var(--charcoal);
  letter-spacing:.02em;transition:color .2s;position:relative;cursor:pointer;
}
.nav-links a::after{
  content:'';position:absolute;bottom:0;left:13px;right:13px;
  height:2px;background:var(--teal);transform:scaleX(0);transition:transform .2s;
}
.nav-links a:hover{color:var(--teal)}
.nav-links a:hover::after{transform:scaleX(1)}
.nav-links a.gold{color:var(--gold);font-weight:600}
.nav-cart{
  display:flex;align-items:center;gap:6px;padding:8px 16px;
  background:var(--teal-pale);border-radius:50px;font-size:0.82rem;
  font-weight:600;color:var(--teal-dark);cursor:pointer;transition:all .2s;border:none;
}
.nav-cart:hover{background:var(--teal-mid)}
.cart-count{
  background:var(--gold);color:var(--charcoal);border-radius:50%;
  width:20px;height:20px;font-size:.68rem;font-weight:700;
  display:flex;align-items:center;justify-content:center;
}

/* ===== CONTAINER ===== */
.container{max-width:1100px;margin:0 auto;padding:0 20px}
.section-label{
  display:inline-block;font-size:.7rem;font-weight:600;letter-spacing:.12em;
  text-transform:uppercase;color:var(--teal);margin-bottom:10px;
  padding:4px 12px;background:var(--teal-pale);border-radius:50px;
}
.section-title{font-size:clamp(1.8rem,4vw,2.8rem);margin-bottom:12px}
.section-sub{font-size:.95rem;color:var(--gray);line-height:1.7}

/* ===== BUTTONS ===== */
.btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:12px 24px;border-radius:50px;font-size:.88rem;
  font-weight:600;font-family:'DM Sans',sans-serif;
  cursor:pointer;transition:all .25s;border:2px solid transparent;
}
.btn-teal{background:var(--teal);color:white}
.btn-gold{background:var(--gold);color:var(--charcoal)}
.btn-outline-teal{background:transparent;color:var(--teal);border-color:var(--teal)}
.btn-white-outline{background:transparent;color:white;border-color:rgba(255,255,255,.5)}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.2)}

/* ===== HOME ‚Äî HERO ===== */
.hero{
  background:linear-gradient(160deg,var(--teal-dark),var(--teal) 65%,var(--teal-light));
  min-height:88vh;display:flex;align-items:center;position:relative;overflow:hidden;
}
.hero::before{
  content:'';position:absolute;inset:0;
  background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='30' cy='30' r='2' fill='%23fff' fill-opacity='.04'/%3E%3C/svg%3E");
}
.hero::after{
  content:'';position:absolute;bottom:-2px;left:0;right:0;height:70px;
  background:var(--cream);clip-path:ellipse(55% 100% at 50% 100%);
}
.hero-inner{
  position:relative;z-index:1;padding:60px 24px 80px;
  max-width:1100px;margin:0 auto;width:100%;
  display:grid;grid-template-columns:1fr 1fr;gap:60px;align-items:center;
}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;
  background:rgba(255,255,255,.15);color:white;
  padding:6px 14px;border-radius:50px;font-size:.75rem;
  font-weight:500;margin-bottom:16px;border:1px solid rgba(255,255,255,.25);
}
.hero-title{font-size:clamp(2.2rem,5vw,3.6rem);color:white;margin-bottom:16px;line-height:1.1}
.hero-title em{font-style:italic;color:var(--gold)}
.hero-sub{font-size:1rem;color:rgba(255,255,255,.85);margin-bottom:28px;line-height:1.7}
.hero-btns{display:flex;gap:10px;flex-wrap:wrap}
.hero-card{
  background:rgba(255,255,255,.1);backdrop-filter:blur(12px);
  border:1px solid rgba(255,255,255,.2);border-radius:20px;padding:28px;color:white;
}
.hero-card-title{font-family:'Cormorant Garamond',serif;font-size:1.3rem;color:var(--gold);margin-bottom:18px}
.hero-info-row{display:flex;align-items:flex-start;gap:12px;margin-bottom:12px;font-size:.85rem}
.hi-icon{
  width:30px;height:30px;background:rgba(255,255,255,.15);border-radius:8px;
  display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:.85rem;
}
.open-badge{
  display:inline-flex;align-items:center;gap:6px;
  background:#22c55e;color:white;padding:6px 14px;border-radius:50px;
  font-size:.73rem;font-weight:600;margin-top:14px;
}
.open-badge::before{content:'';width:7px;height:7px;background:white;border-radius:50%;animation:pulse 1.5s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

/* ===== HOME ‚Äî SECTIONS ===== */
.home-section{padding:70px 0}
.cards-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));
  gap:16px;margin-top:36px;
}
.card{
  background:white;border-radius:var(--r);padding:22px 16px;text-align:center;
  box-shadow:var(--shadow);transition:all .3s;border:1px solid transparent;cursor:pointer;
}
.card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg);border-color:var(--teal-mid)}
.card-icon{
  width:52px;height:52px;background:var(--teal-pale);border-radius:14px;
  display:flex;align-items:center;justify-content:center;
  margin:0 auto 12px;font-size:1.4rem;transition:background .3s;
}
.card:hover .card-icon{background:var(--teal)}
.card h3{font-size:.95rem;margin-bottom:5px;color:var(--teal-dark)}
.card p{font-size:.78rem;color:var(--gray);line-height:1.5}
.card.highlight{border:2px solid var(--gold)!important}
.card.highlight .card-icon{background:linear-gradient(135deg,#fef3c7,#fde68a)}
.card.highlight h3{color:var(--gold)}

/* Servizi */
.servizi-bg{background:var(--teal-dark);padding:70px 0}
.servizi-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;margin-top:36px;
}
.serv-card{
  background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);
  border-radius:var(--r);padding:24px;transition:all .3s;
}
.serv-card:hover{background:rgba(255,255,255,.13);transform:translateY(-3px)}
.serv-num{font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--gold);opacity:.6;margin-bottom:8px}
.serv-card h3{font-size:1rem;color:white;margin-bottom:6px}
.serv-card p{font-size:.82rem;color:rgba(255,255,255,.7);line-height:1.6}
.serv-tag{display:inline-block;padding:3px 10px;background:rgba(201,168,76,.2);color:var(--gold);border-radius:50px;font-size:.7rem;font-weight:600;margin-top:8px}

/* Recensioni */
.rec-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;margin-top:36px}
.rec-card{
  background:white;border-radius:var(--r);padding:24px;box-shadow:var(--shadow);
  transition:transform .3s;position:relative;overflow:hidden;
}
.rec-card::before{content:'"';position:absolute;top:-10px;right:16px;font-family:'Cormorant Garamond',serif;font-size:4.5rem;color:var(--teal-pale);line-height:1}
.rec-card:hover{transform:translateY(-4px)}
.stars{color:#f59e0b;font-size:.95rem;letter-spacing:2px;margin-bottom:8px}
.rec-text{font-size:.87rem;color:var(--charcoal);line-height:1.7;margin-bottom:12px;position:relative;z-index:1}
.rec-author{font-weight:600;font-size:.83rem;color:var(--teal-dark)}
.rec-date{font-size:.73rem;color:var(--gray)}

/* ===== SHOP PAGE ===== */
.shop-header{
  background:linear-gradient(135deg,var(--teal-dark),var(--teal));
  color:white;padding:50px 24px;text-align:center;
}
.shop-header h1{color:white!important;font-size:clamp(1.8rem,4vw,2.8rem);margin-bottom:8px}
.shop-header p{color:rgba(255,255,255,.8);font-size:.95rem}
.shop-toolbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:20px 0;border-bottom:1px solid var(--teal-mid);margin-bottom:28px;gap:12px;flex-wrap:wrap;
}
.shop-toolbar .result-count{font-size:.85rem;color:var(--gray)}
.shop-cats{display:flex;gap:8px;flex-wrap:wrap;margin:24px 0}
.cat-btn{
  padding:8px 16px;border-radius:50px;border:1.5px solid var(--teal-mid);
  background:white;color:var(--teal-dark);font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;
}
.cat-btn.active,.cat-btn:hover{background:var(--teal);color:white;border-color:var(--teal)}
.products-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:24px;
}
.prod-card{
  background:white;border-radius:var(--r);overflow:hidden;box-shadow:var(--shadow);
  transition:all .3s;border:1px solid transparent;cursor:pointer;
}
.prod-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg);border-color:var(--teal-mid)}
.prod-img{
  aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;
  font-size:3rem;background:linear-gradient(135deg,var(--teal-pale),#d4eeee);
  position:relative;
}
.prod-badge{
  position:absolute;top:10px;left:10px;background:var(--gold);color:var(--charcoal);
  padding:3px 10px;border-radius:50px;font-size:.67rem;font-weight:700;letter-spacing:.04em;
}
.prod-badge.new{background:#22c55e;color:white}
.prod-body{padding:16px}
.prod-name{font-weight:600;font-size:.95rem;color:var(--charcoal);margin-bottom:4px}
.prod-desc{font-size:.8rem;color:var(--gray);line-height:1.5;margin-bottom:10px}
.prod-footer{display:flex;align-items:center;justify-content:space-between}
.prod-price{font-family:'Cormorant Garamond',serif;font-size:1.3rem;font-weight:700;color:var(--teal-dark)}
.prod-price .from{font-size:.72rem;font-family:'DM Sans',sans-serif;color:var(--gray);font-weight:400;display:block}
.add-btn{
  padding:8px 16px;background:var(--teal);color:white;border-radius:50px;
  border:none;font-size:.78rem;font-weight:600;cursor:pointer;transition:all .2s;
}
.add-btn:hover{background:var(--teal-dark);transform:scale(1.04)}

/* ===== PRODOTTO SINGOLO ===== */
.single-prod{padding:40px 0}
.single-grid{display:grid;grid-template-columns:1fr 1fr;gap:48px;align-items:start}
.prod-gallery{background:linear-gradient(135deg,var(--teal-pale),#d4eeee);border-radius:var(--r);aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;font-size:6rem}
.prod-single-title{font-size:clamp(1.8rem,4vw,2.5rem);margin-bottom:8px}
.prod-single-price{font-family:'Cormorant Garamond',serif;font-size:2rem;font-weight:700;color:var(--teal);margin-bottom:16px}
.prod-short-desc{font-size:.9rem;color:var(--gray);line-height:1.7;margin-bottom:24px}

/* Configuratore */
.configurator{
  background:white;border-radius:var(--r);padding:28px;
  box-shadow:var(--shadow);border-top:4px solid var(--gold);margin:20px 0;
}
.configurator h3{font-size:1.4rem;color:var(--teal-dark);margin-bottom:6px}
.configurator .sub{font-size:.83rem;color:var(--gray);margin-bottom:22px}
.config-step{margin-bottom:22px}
.config-label{
  font-weight:700;font-size:.72rem;letter-spacing:.1em;text-transform:uppercase;
  color:var(--teal);margin-bottom:10px;display:flex;align-items:center;gap:8px;
}
.step-num{
  width:20px;height:20px;background:var(--teal);color:white;border-radius:50%;
  font-size:.65rem;display:flex;align-items:center;justify-content:center;font-weight:700;
}
.size-btns{display:flex;gap:8px;flex-wrap:wrap}
.size-btn{
  width:42px;height:42px;border:2px solid var(--teal-mid);border-radius:var(--r-sm);
  background:white;font-weight:600;font-size:.8rem;cursor:pointer;transition:all .2s;
  display:flex;align-items:center;justify-content:center;color:var(--teal-dark);
}
.size-btn:hover,.size-btn.active{background:var(--teal);color:white;border-color:var(--teal)}
.color-btns{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.color-dot{
  width:34px;height:34px;border-radius:50%;cursor:pointer;
  border:3px solid transparent;transition:all .2s;position:relative;
}
.color-dot:hover,.color-dot.active{border-color:var(--teal-dark);transform:scale(1.15);box-shadow:0 4px 12px rgba(0,0,0,.25)}
.color-dot.active::after{content:'‚úì';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.75rem;font-weight:700;color:white;text-shadow:0 1px 3px rgba(0,0,0,.5)}
.pos-btns{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.pos-btn{
  padding:9px;border:1.5px solid var(--teal-mid);border-radius:var(--r-sm);
  background:white;font-size:.78rem;font-weight:500;cursor:pointer;transition:all .2s;
  text-align:center;color:var(--teal-dark);
}
.pos-btn:hover,.pos-btn.active{background:var(--teal);color:white;border-color:var(--teal)}
.upload-drop{
  border:2px dashed var(--teal-mid);border-radius:var(--r);padding:24px;
  text-align:center;background:var(--teal-pale);cursor:pointer;transition:all .2s;
}
.upload-drop:hover{border-color:var(--teal);background:#d4ecec}
.notes-area{
  width:100%;padding:11px;border:1.5px solid var(--teal-mid);border-radius:var(--r-sm);
  font-family:'DM Sans',sans-serif;font-size:.85rem;resize:vertical;min-height:80px;outline:none;
}
.notes-area:focus{border-color:var(--teal)}
.config-summary{
  background:var(--teal-pale);border-radius:var(--r);padding:18px;
  border:1px solid var(--teal-mid);margin-top:20px;
}
.config-summary h4{color:var(--teal-dark);font-size:.95rem;margin-bottom:10px}
.sum-row{
  display:flex;justify-content:space-between;font-size:.83rem;
  padding:5px 0;border-bottom:1px solid var(--teal-mid);color:var(--charcoal);
}
.sum-row:last-child{border-bottom:none;font-weight:700;color:var(--teal-dark);padding-top:8px}
.qty-wrap{display:flex;align-items:center;gap:12px;margin:16px 0}
.qty-btn{
  width:36px;height:36px;border:1.5px solid var(--teal-mid);border-radius:50%;
  background:white;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .2s;
  display:flex;align-items:center;justify-content:center;
}
.qty-btn:hover{background:var(--teal);color:white;border-color:var(--teal)}
.qty-val{font-size:1.1rem;font-weight:600;width:32px;text-align:center}

/* SVG Shirt Preview */
.shirt-preview-wrap{
  background:var(--gray-light);border-radius:var(--r);padding:20px;
  text-align:center;margin-bottom:16px;
}
.shirt-preview-label{font-size:.7rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--teal);margin-bottom:10px}

/* ===== CARRELLO ===== */
.cart-page{padding:40px 0}
.page-title-bar{padding:30px 0 20px;border-bottom:2px solid var(--teal-mid);margin-bottom:28px}
.page-title-bar h1{font-size:clamp(1.8rem,4vw,2.4rem);color:var(--teal-dark)}
.cart-layout{display:grid;grid-template-columns:1fr 360px;gap:32px;align-items:start}
.cart-table{background:white;border-radius:var(--r);overflow:hidden;box-shadow:var(--shadow)}
.cart-thead{background:var(--teal-dark);color:white}
.cart-thead th{padding:12px 16px;font-size:.78rem;font-weight:600;letter-spacing:.06em;text-transform:uppercase;text-align:left}
.cart-row{border-bottom:1px solid var(--teal-mid)}
.cart-row td{padding:14px 16px;vertical-align:middle}
.cart-item-name{font-weight:600;font-size:.9rem;color:var(--teal-dark)}
.cart-item-meta{font-size:.77rem;color:var(--gray);margin-top:3px}
.cart-item-img{
  width:60px;height:60px;background:var(--teal-pale);border-radius:8px;
  display:flex;align-items:center;justify-content:center;font-size:1.6rem;flex-shrink:0;
}
.cart-item-cell{display:flex;align-items:center;gap:12px}
.cart-price{font-weight:600;font-size:.95rem;color:var(--teal-dark)}
.remove-btn{background:none;border:none;color:#dc2626;font-size:1rem;cursor:pointer;padding:4px}
.cart-totals{
  background:white;border-radius:var(--r);padding:24px;box-shadow:var(--shadow);
  position:sticky;top:80px;
}
.cart-totals h2{font-size:1.3rem;color:var(--teal-dark);margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid var(--teal-mid)}
.totals-row{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--teal-mid);font-size:.9rem}
.totals-row.total{font-weight:700;font-size:1.1rem;color:var(--teal-dark);border-bottom:none;padding-top:14px}
.spedizione-note{font-size:.78rem;color:var(--teal);background:var(--teal-pale);padding:10px;border-radius:8px;margin:12px 0}
.coupon-row{display:flex;gap:8px;margin:14px 0}
.coupon-input{
  flex:1;padding:10px 12px;border:1.5px solid var(--teal-mid);border-radius:50px;
  font-size:.83rem;font-family:'DM Sans',sans-serif;outline:none;
}
.coupon-input:focus{border-color:var(--teal)}

/* ===== CHECKOUT ===== */
.checkout-page{padding:40px 0}
.checkout-grid{display:grid;grid-template-columns:1fr 380px;gap:32px;align-items:start}
.checkout-form-section{background:white;border-radius:var(--r);padding:28px;box-shadow:var(--shadow);margin-bottom:20px}
.checkout-form-section h3{font-size:1.2rem;color:var(--teal-dark);margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid var(--teal-mid)}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.form-group{margin-bottom:14px}
.form-group.full{grid-column:1/-1}
.form-group label{display:block;font-weight:600;font-size:.82rem;color:var(--charcoal);margin-bottom:5px}
.form-input{
  width:100%;padding:11px 14px;border:1.5px solid var(--teal-mid);border-radius:var(--r-sm);
  font-family:'DM Sans',sans-serif;font-size:.87rem;color:var(--charcoal);outline:none;transition:border-color .2s;
}
.form-input:focus{border-color:var(--teal);box-shadow:0 0 0 3px rgba(26,107,107,.1)}
.payment-methods{display:flex;flex-direction:column;gap:10px}
.payment-method{
  padding:14px;border:1.5px solid var(--teal-mid);border-radius:var(--r-sm);cursor:pointer;transition:all .2s;
  display:flex;align-items:center;gap:12px;
}
.payment-method:hover,.payment-method.active{border-color:var(--teal);background:var(--teal-pale)}
.payment-method input[type="radio"]{accent-color:var(--teal)}
.payment-label{font-weight:600;font-size:.88rem;color:var(--teal-dark)}
.payment-desc{font-size:.78rem;color:var(--gray);margin-top:2px}
.order-review{background:white;border-radius:var(--r);padding:24px;box-shadow:var(--shadow);position:sticky;top:80px}
.order-review h3{font-size:1.2rem;color:var(--teal-dark);margin-bottom:16px;padding-bottom:10px;border-bottom:2px solid var(--teal-mid)}
.order-item{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--teal-mid);gap:8px}
.order-item-info{flex:1}
.order-item-name{font-weight:600;font-size:.87rem;color:var(--charcoal)}
.order-item-meta{font-size:.75rem;color:var(--gray)}
.order-item-price{font-weight:600;font-size:.9rem;color:var(--teal-dark);white-space:nowrap}
.order-totals-section{margin-top:14px}
.order-total-row{display:flex;justify-content:space-between;padding:8px 0;font-size:.88rem;border-bottom:1px solid var(--teal-mid)}
.order-total-row.grand{font-weight:700;font-size:1.05rem;color:var(--teal-dark);border-bottom:none}
.place-order-btn{
  width:100%;padding:16px;background:var(--gold);color:var(--charcoal);border:none;
  border-radius:50px;font-size:1rem;font-weight:700;cursor:pointer;
  margin-top:16px;transition:all .2s;font-family:'DM Sans',sans-serif;
}
.place-order-btn:hover{background:#d4b45a;transform:translateY(-2px);box-shadow:0 8px 24px rgba(201,168,76,.4)}
.terms-note{font-size:.75rem;color:var(--gray);text-align:center;margin-top:10px;line-height:1.5}

/* ===== FOOTER ===== */
.sitefooter{background:var(--teal-dark);color:white;padding:52px 24px 28px}
.footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:40px;max-width:1100px;margin:0 auto;padding-bottom:36px;border-bottom:1px solid rgba(255,255,255,.15)}
.footer-brand{font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:600;color:var(--gold);margin-bottom:10px}
.footer-desc{font-size:.83rem;color:rgba(255,255,255,.6);line-height:1.7}
.footer-h{font-size:.72rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--gold);margin-bottom:14px}
.footer-links{list-style:none;display:flex;flex-direction:column;gap:9px}
.footer-links a,.footer-links li{font-size:.83rem;color:rgba(255,255,255,.7);cursor:pointer;transition:color .2s}
.footer-links a:hover{color:white}
.footer-bottom{max-width:1100px;margin:22px auto 0;display:flex;justify-content:space-between;font-size:.76rem;color:rgba(255,255,255,.4)}
.footer-orari{font-size:.82rem;color:rgba(255,255,255,.7);line-height:1.8}

/* ===== TOAST ===== */
.toast{
  position:fixed;top:80px;right:20px;z-index:9998;
  background:var(--teal-dark);color:white;padding:14px 20px;border-radius:var(--r);
  font-size:.88rem;font-weight:500;box-shadow:var(--shadow-lg);
  transform:translateX(140%);transition:transform .4s cubic-bezier(.25,.46,.45,.94);
  display:flex;align-items:center;gap:10px;max-width:300px;
}
.toast.show{transform:translateX(0)}
.toast-icon{font-size:1.1rem}

/* ===== RESPONSIVE ===== */
@media(max-width:900px){
  .hero-inner,.single-grid,.cart-layout,.checkout-grid,.footer-grid{grid-template-columns:1fr}
  .hero-card{display:none}
  .nav-links{display:none}
  .products-grid{grid-template-columns:repeat(2,1fr)}
  .rec-grid{grid-template-columns:1fr}
}
@media(max-width:560px){
  .products-grid{grid-template-columns:1fr}
  .cards-grid{grid-template-columns:repeat(2,1fr)}
  .servizi-grid{grid-template-columns:1fr}
  .form-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- TOAST -->
<div class="toast" id="toast">
  <span class="toast-icon">üõí</span>
  <span id="toast-msg">Prodotto aggiunto al carrello!</span>
</div>

<!-- PREVIEW BANNER -->
<div class="preview-banner">
  <div><strong>üëÅ PREVIEW</strong> ‚Äî Cartolibreria Mannai Orietta ¬∑ WooCommerce</div>
  <div class="pb-pages">
    <button class="pb-btn active" onclick="goPage('home')">üè† Home</button>
    <button class="pb-btn" onclick="goPage('shop')">üõç Shop</button>
    <button class="pb-btn" onclick="goPage('product')">üëï Maglietta</button>
    <button class="pb-btn" onclick="goPage('cart')">üõí Carrello</button>
    <button class="pb-btn" onclick="goPage('checkout')">üí≥ Checkout</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-home" class="page active">

  <!-- Topbar -->
  <div class="topbar">
    <span>üìç Via Roma 7, San Giovanni Suergiu &nbsp;|&nbsp; <a href="#">üìû 0781 68041</a></span>
    <div class="topbar-right">
      <span>üïê Lun‚ÄìSab 08‚Äì13 / 17‚Äì20</span>
      <a href="#">üß≠ Indicazioni</a>
    </div>
  </div>

  <!-- Nav -->
  <nav class="sitenav">
    <div class="nav-brand">Cartolibreria Mannai Orietta</div>
    <ul class="nav-links">
      <li><a onclick="goPage('home')">Home</a></li>
      <li><a onclick="goPage('shop')">Shop</a></li>
      <li><a>Servizi</a></li>
      <li><a>Scuola</a></li>
      <li><a>Stampe</a></li>
      <li><a onclick="goPage('product')" class="gold">üëï Magliette</a></li>
      <li><a>Contatti</a></li>
    </ul>
    <button class="nav-cart" onclick="goPage('cart')">
      üõí Carrello
      <span class="cart-count" id="cart-count">0</span>
    </button>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-inner">
      <div>
        <div class="hero-badge">üìç San Giovanni Suergiu ‚Äì Sulcis Iglesiente</div>
        <h1 class="hero-title">La tua <em>Cartolibreria</em><br>di fiducia</h1>
        <p class="hero-sub">Cartoleria fornita, stampe, fotocopie e ora anche <strong style="color:var(--gold)">magliette personalizzate</strong> con il tuo logo!</p>
        <div class="hero-btns">
          <button class="btn btn-gold" onclick="goPage('shop')">üõç Vai allo shop</button>
          <button class="btn btn-white-outline" onclick="goPage('product')">üëï Magliette custom</button>
        </div>
      </div>
      <div class="hero-card">
        <div class="hero-card-title">üìã Informazioni rapide</div>
        <div class="hero-info-row"><div class="hi-icon">üìç</div><div>Via Roma, 7<br>09010 San Giovanni Suergiu (SU)</div></div>
        <div class="hero-info-row"><div class="hi-icon">üìû</div><div>0781 68041</div></div>
        <div class="hero-info-row"><div class="hi-icon">üïê</div><div>Lun‚ÄìSab: 08:00‚Äì13:00 / 17:00‚Äì20:00<br>Domenica: Chiuso</div></div>
        <div class="open-badge">Aperto adesso</div>
      </div>
    </div>
  </section>

  <!-- Cosa trovi -->
  <section class="home-section" style="background:var(--cream)">
    <div class="container">
      <div style="text-align:center;margin-bottom:8px"><div class="section-label">Il nostro negozio</div></div>
      <h2 class="section-title" style="text-align:center">Cosa trovi da noi</h2>
      <div class="cards-grid">
        <div class="card" onclick="goPage('shop')"><div class="card-icon">‚úèÔ∏è</div><h3>Cancelleria</h3><p>Penne, quaderni, evidenziatori e tutto per scrivere.</p></div>
        <div class="card" onclick="goPage('shop')"><div class="card-icon">üéí</div><h3>Articoli Scuola</h3><p>Diari, zaini, astucci e tutto per la scuola.</p></div>
        <div class="card" onclick="goPage('shop')"><div class="card-icon">üìö</div><h3>Libri</h3><p>Libri scolastici e cartolibreria selezionata.</p></div>
        <div class="card" onclick="goPage('shop')"><div class="card-icon">üéÅ</div><h3>Idee Regalo</h3><p>Agende, set scrittura e idee originali.</p></div>
        <div class="card" onclick="goPage('shop')"><div class="card-icon">üìÅ</div><h3>Ufficio</h3><p>Archiviazione, buste, modulistica.</p></div>
        <div class="card highlight" onclick="goPage('product')"><div class="card-icon">üëï</div><h3>Magliette Custom</h3><p>Stampa il tuo logo. Anche 1 solo pezzo!</p></div>
      </div>
    </div>
  </section>

  <!-- Servizi -->
  <div class="servizi-bg">
    <div class="container">
      <div class="section-label" style="background:rgba(255,255,255,.15);color:var(--gold)">In negozio</div>
      <h2 class="section-title" style="color:white;margin-top:8px">Servizi rapidi</h2>
      <div class="servizi-grid">
        <div class="serv-card"><div class="serv-num">01</div><h3>Stampe B/N</h3><p>Documenti e moduli in bianco e nero. A4 e A3.</p><div class="serv-tag">Immediato</div></div>
        <div class="serv-card"><div class="serv-num">02</div><h3>Stampe Colore</h3><p>Foto, locandine e presentazioni a colori.</p><div class="serv-tag">A4 / A3</div></div>
        <div class="serv-card"><div class="serv-num">03</div><h3>Fotocopie</h3><p>Singole o multiple, b/n e colore.</p><div class="serv-tag">Immediato</div></div>
        <div class="serv-card"><div class="serv-num">04</div><h3>Scansioni</h3><p>Alta risoluzione. File su chiavetta o email.</p><div class="serv-tag">Pochi minuti</div></div>
        <div class="serv-card"><div class="serv-num">05</div><h3>Email / Fax</h3><p>Inviamo per te direttamente in negozio.</p><div class="serv-tag">Assistito</div></div>
        <div class="serv-card" onclick="goPage('product')" style="cursor:pointer;border-color:var(--gold)"><div class="serv-num">06</div><h3>üëï Magliette</h3><p>Stampa personalizzata con il tuo logo o design.</p><div class="serv-tag" style="background:rgba(201,168,76,.4)">Nuovo!</div></div>
      </div>
    </div>
  </div>

  <!-- Recensioni -->
  <section class="home-section" style="background:var(--cream)">
    <div class="container">
      <div style="text-align:center;margin-bottom:8px"><div class="section-label">La voce dei clienti</div></div>
      <h2 class="section-title" style="text-align:center">Cosa dicono di noi</h2>
      <div class="rec-grid">
        <div class="rec-card"><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><p class="rec-text">Negozio ben fornito, trovo sempre tutto. La titolare √® gentilissima e disponibile.</p><div class="rec-author">Maria G.</div><div class="rec-date">Recensione Google</div></div>
        <div class="rec-card"><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><p class="rec-text">Ho fatto le fotocopie velocissimamente. Servizio rapido e prezzi onesti!</p><div class="rec-author">Paolo M.</div><div class="rec-date">Recensione Google</div></div>
        <div class="rec-card"><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><p class="rec-text">Ho ordinato le magliette per la nostra squadra: ottima qualit√† e consegna puntuale.</p><div class="rec-author">Luca S.</div><div class="rec-date">Recensione Google</div></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="sitefooter">
    <div class="footer-grid">
      <div>
        <div class="footer-brand">Cartolibreria Mannai Orietta</div>
        <p class="footer-desc">Punto di riferimento per cartoleria, articoli scolastici, stampe e magliette personalizzate a San Giovanni Suergiu.</p>
        <p style="margin-top:14px;font-size:.78rem;color:rgba(255,255,255,.4)">üìç Via Roma, 7 ‚Äì 09010 San Giovanni Suergiu (SU)<br>üìû 0781 68041</p>
      </div>
      <div>
        <div class="footer-h">Menu</div>
        <ul class="footer-links">
          <li>Home</li><li onclick="goPage('shop')">Shop</li><li>Servizi</li>
          <li>Scuola &amp; Liste</li><li>Stampe</li><li onclick="goPage('product')" style="color:var(--gold)">üëï Magliette</li>
          <li>Contatti</li>
        </ul>
      </div>
      <div>
        <div class="footer-h">Orari</div>
        <div class="footer-orari"><strong style="color:var(--gold)">Lun ‚Äì Sab</strong><br>08:00 ‚Äì 13:00<br>17:00 ‚Äì 20:00<br><br><span style="color:rgba(255,255,255,.4)">Domenica: Chiuso</span></div>
      </div>
    </div>
    <div class="footer-bottom">
      <span>¬© 2026 Cartolibreria Mannai Orietta Sas</span>
      <span>P.IVA [inserire] ‚Äì Tutti i diritti riservati</span>
    </div>
  </footer>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SHOP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-shop" class="page">
  <div class="topbar">
    <span>üìç Via Roma 7, San Giovanni Suergiu &nbsp;|&nbsp; <a href="#">üìû 0781 68041</a></span>
    <div class="topbar-right"><span>üïê Lun‚ÄìSab 08‚Äì13 / 17‚Äì20</span></div>
  </div>
  <nav class="sitenav">
    <div class="nav-brand">Cartolibreria Mannai Orietta</div>
    <ul class="nav-links">
      <li><a onclick="goPage('home')">Home</a></li>
      <li><a onclick="goPage('shop')" style="color:var(--teal)">Shop</a></li>
      <li><a>Servizi</a></li><li><a>Scuola</a></li><li><a>Stampe</a></li>
      <li><a onclick="goPage('product')" class="gold">üëï Magliette</a></li>
      <li><a>Contatti</a></li>
    </ul>
    <button class="nav-cart" onclick="goPage('cart')">üõí <span class="cart-count" id="cart-count-shop">0</span></button>
  </nav>

  <div class="shop-header">
    <h1>üõç Il nostro Shop</h1>
    <p>Cancelleria, articoli scuola, ufficio, regalo e magliette personalizzate</p>
  </div>

  <div class="container" style="padding-top:28px;padding-bottom:60px">
    <div class="shop-cats">
      <button class="cat-btn active" onclick="filterCat(this,'all')">Tutti i prodotti</button>
      <button class="cat-btn" onclick="filterCat(this,'cancelleria')">‚úèÔ∏è Cancelleria</button>
      <button class="cat-btn" onclick="filterCat(this,'scuola')">üéí Scuola</button>
      <button class="cat-btn" onclick="filterCat(this,'ufficio')">üìÅ Ufficio</button>
      <button class="cat-btn" onclick="filterCat(this,'regalo')">üéÅ Regalo</button>
      <button class="cat-btn" onclick="filterCat(this,'magliette')" style="color:var(--gold);border-color:var(--gold)">üëï Magliette</button>
    </div>

    <div class="shop-toolbar">
      <span class="result-count" id="result-count">Visualizzazione di 12 prodotti</span>
      <select style="border:1.5px solid var(--teal-mid);border-radius:8px;padding:7px 12px;font-family:'DM Sans',sans-serif;font-size:.82rem;color:var(--charcoal)">
        <option>Ordina per: Popolarit√†</option>
        <option>Prezzo crescente</option>
        <option>Prezzo decrescente</option>
        <option>Pi√π recenti</option>
      </select>
    </div>

    <div class="products-grid" id="products-grid">
      <!-- prodotti generati via JS -->
    </div>
  </div>

  <footer class="sitefooter" style="padding-top:36px">
    <div class="footer-bottom" style="max-width:1100px;margin:0 auto">
      <span>¬© 2026 Cartolibreria Mannai Orietta Sas</span>
      <span>P.IVA [inserire]</span>
    </div>
  </footer>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PRODOTTO (MAGLIETTA) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-product" class="page">
  <div class="topbar">
    <span>üìç Via Roma 7, San Giovanni Suergiu &nbsp;|&nbsp; <a href="#">üìû 0781 68041</a></span>
    <div class="topbar-right"><span>üïê Lun‚ÄìSab 08‚Äì13 / 17‚Äì20</span></div>
  </div>
  <nav class="sitenav">
    <div class="nav-brand">Cartolibreria Mannai Orietta</div>
    <ul class="nav-links">
      <li><a onclick="goPage('home')">Home</a></li>
      <li><a onclick="goPage('shop')">Shop</a></li>
      <li><a onclick="goPage('product')" class="gold">üëï Magliette</a></li>
    </ul>
    <button class="nav-cart" onclick="goPage('cart')">üõí <span class="cart-count" id="cart-count-prod">0</span></button>
  </nav>

  <div class="container single-prod">
    <!-- Breadcrumb -->
    <p style="font-size:.8rem;color:var(--gray);margin-bottom:20px">
      <span onclick="goPage('home')" style="cursor:pointer;color:var(--teal)">Home</span> /
      <span onclick="goPage('shop')" style="cursor:pointer;color:var(--teal)">Shop</span> /
      <span onclick="goPage('shop')" style="cursor:pointer;color:var(--teal)">Magliette</span> /
      T-Shirt Personalizzata
    </p>

    <div class="single-grid">
      <!-- Colonna sinistra: immagine + configuratore -->
      <div>
        <div class="prod-gallery">üëï</div>

        <!-- Configuratore -->
        <div class="configurator">
          <h3>üé® Configura la tua maglietta</h3>
          <p class="sub">Scegli colore, taglia e carica il tuo logo. Ti inviamo un'anteprima gratuita prima di stampare.</p>

          <!-- Step 1: Colore -->
          <div class="config-step">
            <div class="config-label"><span class="step-num">1</span> COLORE ‚Äî <span id="color-label">Bianco</span></div>
            <div class="color-btns" id="color-btns"></div>
          </div>

          <!-- Step 2: Taglia -->
          <div class="config-step">
            <div class="config-label"><span class="step-num">2</span> TAGLIA ‚Äî <span id="size-label">M</span></div>
            <div class="size-btns" id="size-btns"></div>
          </div>

          <!-- Step 3: Posizione -->
          <div class="config-step">
            <div class="config-label"><span class="step-num">3</span> POSIZIONE STAMPA</div>
            <div class="pos-btns" id="pos-btns"></div>
          </div>

          <!-- Step 4: Upload -->
          <div class="config-step">
            <div class="config-label"><span class="step-num">4</span> CARICA LOGO / DESIGN</div>
            <div class="upload-drop" id="upload-drop">
              <div style="font-size:1.8rem;margin-bottom:6px">üìÅ</div>
              <div style="font-weight:600;font-size:.88rem;color:var(--teal-dark)">Clicca o trascina il file qui</div>
              <div style="font-size:.75rem;color:var(--gray)">JPG, PNG, PDF, SVG, AI ‚Äî Max 10MB</div>
              <input type="file" id="file-input" accept="image/*,.pdf,.svg" style="position:absolute;opacity:0;inset:0;cursor:pointer;width:100%;height:100%">
            </div>
          </div>

          <!-- Step 5: Note -->
          <div class="config-step">
            <div class="config-label"><span class="step-num">5</span> NOTE AGGIUNTIVE</div>
            <textarea class="notes-area" placeholder="Es: testo 'Squadra 2025' in rosso, numero sulla schiena..."></textarea>
          </div>
        </div>
      </div>

      <!-- Colonna destra: info prodotto + acquisto -->
      <div>
        <!-- Preview SVG -->
        <div class="shirt-preview-wrap">
          <div class="shirt-preview-label">ANTEPRIMA IN TEMPO REALE</div>
          <svg id="shirt-svg" viewBox="0 0 200 220" width="180" style="filter:drop-shadow(0 4px 14px rgba(0,0,0,.18))">
            <path id="shirt-body" d="M30,60 L5,80 L25,95 L25,200 L175,200 L175,95 L195,80 L170,60 L140,45 C135,70 65,70 60,45 Z" fill="#ffffff" stroke="#e5e7eb" stroke-width="1.5"/>
            <path d="M60,45 Q100,75 140,45" fill="none" stroke="#e5e7eb" stroke-width="1.5"/>
            <rect id="logo-area" x="70" y="85" width="60" height="60" fill="none" stroke="rgba(26,107,107,.3)" stroke-width="1.5" stroke-dasharray="4,3" rx="4"/>
            <text id="pt1" x="100" y="119" text-anchor="middle" font-size="9" fill="rgba(26,107,107,.5)" font-family="sans-serif">IL TUO</text>
            <text id="pt2" x="100" y="131" text-anchor="middle" font-size="9" fill="rgba(26,107,107,.5)" font-family="sans-serif">LOGO</text>
          </svg>
        </div>

        <div class="prod-single-title">T-Shirt Personalizzata</div>
        <div class="prod-single-price">da 12,00 ‚Ç¨</div>
        <p class="prod-short-desc">T-shirt in cotone 100% con il tuo logo o design stampato. Disponibile in vari colori e taglie. <strong>Anche solo 1 pezzo!</strong> Anteprima gratuita prima di procedere.</p>

        <!-- Riepilogo configurazione -->
        <div class="config-summary">
          <h4>üìã Riepilogo ordine</h4>
          <div class="sum-row"><span>Colore</span><span id="sum-colore">Bianco</span></div>
          <div class="sum-row"><span>Taglia</span><span id="sum-taglia">M</span></div>
          <div class="sum-row"><span>Posizione stampa</span><span id="sum-pos">Fronte</span></div>
          <div class="sum-row"><span>File logo</span><span id="sum-logo">Da allegare</span></div>
        </div>

        <!-- Quantit√† -->
        <div class="qty-wrap">
          <button class="qty-btn" onclick="changeQty(-1)">‚àí</button>
          <span class="qty-val" id="qty-val">1</span>
          <button class="qty-btn" onclick="changeQty(1)">+</button>
          <span style="font-size:.83rem;color:var(--gray)">pz</span>
        </div>

        <button class="btn btn-teal" style="width:100%;justify-content:center;font-size:1rem;padding:15px;border:none;margin-bottom:12px" onclick="addToCart('T-Shirt Personalizzata','12,00 ‚Ç¨','üëï')">
          üõí Aggiungi al carrello
        </button>
        <button class="btn btn-outline-teal" style="width:100%;justify-content:center;border:2px solid var(--teal)" onclick="goPage('checkout')">
          ‚ö° Acquista subito
        </button>

        <div style="margin-top:16px;padding:14px;background:var(--teal-pale);border-radius:var(--r);border:1px solid var(--teal-mid)">
          <p style="font-size:.8rem;color:var(--gray);line-height:1.7;margin:0">
            ‚úÖ <strong>Anteprima gratuita</strong> prima della stampa<br>
            ‚è± Pronta in <strong>3‚Äì7 giorni lavorativi</strong><br>
            üì¶ <strong>Ritiro gratuito</strong> in Via Roma 7<br>
            üöö Spedizione disponibile in tutta Italia
          </p>
        </div>
      </div>
    </div>
  </div>

  <footer class="sitefooter" style="padding-top:36px">
    <div class="footer-bottom" style="max-width:1100px;margin:0 auto">
      <span>¬© 2026 Cartolibreria Mannai Orietta Sas</span>
      <span>P.IVA [inserire]</span>
    </div>
  </footer>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CARRELLO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-cart" class="page">
  <div class="topbar">
    <span>üìç Via Roma 7, San Giovanni Suergiu &nbsp;|&nbsp; <a href="#">üìû 0781 68041</a></span>
  </div>
  <nav class="sitenav">
    <div class="nav-brand">Cartolibreria Mannai Orietta</div>
    <ul class="nav-links">
      <li><a onclick="goPage('home')">Home</a></li>
      <li><a onclick="goPage('shop')">Shop</a></li>
      <li><a onclick="goPage('product')" class="gold">üëï Magliette</a></li>
    </ul>
    <button class="nav-cart" onclick="goPage('cart')">üõí <span class="cart-count" id="cart-count-cart">0</span></button>
  </nav>

  <div class="container cart-page">
    <div class="page-title-bar"><h1>üõí Il tuo carrello</h1></div>
    <div id="cart-empty" style="display:none;text-align:center;padding:60px 20px">
      <div style="font-size:3rem;margin-bottom:16px">üõí</div>
      <h3 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem;color:var(--gray);margin-bottom:12px">Il carrello √® vuoto</h3>
      <p style="color:var(--gray);margin-bottom:24px;font-size:.9rem">Sfoglia il nostro shop e aggiungi i prodotti che ti servono!</p>
      <button class="btn btn-teal" onclick="goPage('shop')">üõç Vai allo shop</button>
    </div>
    <div id="cart-content">
      <div class="cart-layout">
        <div>
          <table class="cart-table" style="width:100%;border-collapse:collapse">
            <thead class="cart-thead">
              <tr>
                <th style="width:40px"></th>
                <th>Prodotto</th>
                <th>Prezzo</th>
                <th>Qt√†</th>
                <th>Totale</th>
              </tr>
            </thead>
            <tbody id="cart-tbody"></tbody>
          </table>

          <div style="display:flex;gap:12px;margin-top:16px;flex-wrap:wrap">
            <div class="coupon-row" style="flex:1">
              <input class="coupon-input" placeholder="Codice coupon">
              <button class="btn btn-outline-teal" style="padding:10px 18px;font-size:.83rem">Applica</button>
            </div>
            <button class="btn btn-outline-teal" style="padding:10px 18px;font-size:.83rem" onclick="goPage('shop')">‚Üê Continua acquisti</button>
          </div>
        </div>

        <div class="cart-totals">
          <h2>Totale carrello</h2>
          <div class="totals-row"><span>Subtotale</span><span id="cart-subtotal">0,00 ‚Ç¨</span></div>
          <div class="spedizione-note">üöö Spedizione calcolata al checkout. Ritiro in negozio: <strong>gratuito!</strong></div>
          <div class="totals-row total"><span>Totale (IVA inclusa)</span><span id="cart-total">0,00 ‚Ç¨</span></div>
          <button class="btn btn-gold" style="width:100%;justify-content:center;font-size:1rem;padding:15px;border:none;margin-top:16px" onclick="goPage('checkout')">
            üí≥ Procedi al checkout
          </button>
          <div style="margin-top:12px;text-align:center">
            <img src="data:image/svg+xml,%3Csvg width='200' height='28' viewBox='0 0 200 28' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='2' y='4' width='36' height='20' rx='4' fill='%231a6b6b' opacity='.15'/%3E%3Ctext x='20' y='17' text-anchor='middle' font-size='8' fill='%231a6b6b' font-family='sans-serif' font-weight='bold'%3EVISA%3C/text%3E%3Crect x='44' y='4' width='36' height='20' rx='4' fill='%231a6b6b' opacity='.15'/%3E%3Ctext x='62' y='17' text-anchor='middle' font-size='7' fill='%231a6b6b' font-family='sans-serif' font-weight='bold'%3EMaster%3C/text%3E%3Crect x='86' y='4' width='36' height='20' rx='4' fill='%231a6b6b' opacity='.15'/%3E%3Ctext x='104' y='17' text-anchor='middle' font-size='7' fill='%231a6b6b' font-family='sans-serif' font-weight='bold'%3EPayPal%3C/text%3E%3Crect x='128' y='4' width='36' height='20' rx='4' fill='%231a6b6b' opacity='.15'/%3E%3Ctext x='146' y='17' text-anchor='middle' font-size='7' fill='%231a6b6b' font-family='sans-serif' font-weight='bold'%3EStripe%3C/text%3E%3C/svg%3E" alt="Pagamenti" style="margin:0 auto">
            <p style="font-size:.72rem;color:var(--gray);margin-top:6px">üîí Pagamenti sicuri e criptati</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CHECKOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="page-checkout" class="page">
  <div class="topbar">
    <span>üìç Via Roma 7, San Giovanni Suergiu &nbsp;|&nbsp; <a href="#">üìû 0781 68041</a></span>
  </div>
  <nav class="sitenav">
    <div class="nav-brand">Cartolibreria Mannai Orietta</div>
    <ul class="nav-links">
      <li><a onclick="goPage('home')">Home</a></li>
      <li><a onclick="goPage('shop')">Shop</a></li>
      <li><a onclick="goPage('cart')">üõí Torna al carrello</a></li>
    </ul>
  </nav>

  <div class="container checkout-page">
    <div class="page-title-bar"><h1>üí≥ Checkout</h1></div>
    <div class="checkout-grid">
      <div>
        <!-- Dati fatturazione -->
        <div class="checkout-form-section">
          <h3>üìã Dati di fatturazione</h3>
          <div class="form-grid">
            <div class="form-group"><label>Nome *</label><input class="form-input" placeholder="Mario"></div>
            <div class="form-group"><label>Cognome *</label><input class="form-input" placeholder="Rossi"></div>
            <div class="form-group full"><label>Email *</label><input class="form-input" type="email" placeholder="mario.rossi@email.it"></div>
            <div class="form-group full"><label>Telefono *</label><input class="form-input" type="tel" placeholder="+39 333 1234567"></div>
            <div class="form-group full"><label>Indirizzo *</label><input class="form-input" placeholder="Via Roma, 7"></div>
            <div class="form-group"><label>Citt√† *</label><input class="form-input" placeholder="San Giovanni Suergiu"></div>
            <div class="form-group"><label>CAP *</label><input class="form-input" placeholder="09010"></div>
            <div class="form-group full"><label>Note ordine</label><textarea class="form-input" rows="2" placeholder="Note o istruzioni speciali..."></textarea></div>
          </div>
        </div>

        <!-- Spedizione -->
        <div class="checkout-form-section">
          <h3>üöö Metodo di spedizione</h3>
          <div style="display:flex;flex-direction:column;gap:10px">
            <label class="payment-method active" onclick="this.parentNode.querySelectorAll('.payment-method').forEach(x=>x.classList.remove('active'));this.classList.add('active')">
              <input type="radio" name="ship" checked>
              <div><div class="payment-label">üìç Ritiro in negozio ‚Äî GRATIS</div><div class="payment-desc">Via Roma 7, San Giovanni Suergiu. Pronto entro 1‚Äì2 giorni lavorativi.</div></div>
            </label>
            <label class="payment-method" onclick="this.parentNode.querySelectorAll('.payment-method').forEach(x=>x.classList.remove('active'));this.classList.add('active')">
              <input type="radio" name="ship">
              <div><div class="payment-label">üöö Spedizione Italia ‚Äî 5,90 ‚Ç¨</div><div class="payment-desc">Corriere GLS/Poste. Consegna in 2‚Äì3 giorni lavorativi.</div></div>
            </label>
          </div>
        </div>

        <!-- Pagamento -->
        <div class="checkout-form-section">
          <h3>üí≥ Metodo di pagamento</h3>
          <div class="payment-methods">
            <label class="payment-method active" onclick="this.parentNode.querySelectorAll('.payment-method').forEach(x=>x.classList.remove('active'));this.classList.add('active')">
              <input type="radio" name="pay" checked>
              <div><div class="payment-label">üí≥ Carta di credito/debito (Stripe)</div><div class="payment-desc">Visa, Mastercard, Amex ‚Äî Pagamento sicuro e criptato.</div></div>
            </label>
            <label class="payment-method" onclick="this.parentNode.querySelectorAll('.payment-method').forEach(x=>x.classList.remove('active'));this.classList.add('active')">
              <input type="radio" name="pay">
              <div><div class="payment-label">üÖøÔ∏è PayPal</div><div class="payment-desc">Paga con il tuo account PayPal.</div></div>
            </label>
            <label class="payment-method" onclick="this.parentNode.querySelectorAll('.payment-method').forEach(x=>x.classList.remove('active'));this.classList.add('active')">
              <input type="radio" name="pay">
              <div><div class="payment-label">üè¶ Bonifico Bancario</div><div class="payment-desc">Ti invieremo i dati via email. L'ordine viene elaborato alla ricezione del pagamento.</div></div>
            </label>
            <label class="payment-method" onclick="this.parentNode.querySelectorAll('.payment-method').forEach(x=>x.classList.remove('active'));this.classList.add('active')">
              <input type="radio" name="pay">
              <div><div class="payment-label">üè™ Pagamento in negozio</div><div class="payment-desc">Paga al ritiro direttamente in Via Roma 7.</div></div>
            </label>
          </div>
        </div>
      </div>

      <!-- Riepilogo ordine -->
      <div class="order-review">
        <h3>üì¶ Riepilogo ordine</h3>
        <div id="checkout-items"></div>
        <div class="order-totals-section">
          <div class="order-total-row"><span>Subtotale</span><span id="co-subtotal">0,00 ‚Ç¨</span></div>
          <div class="order-total-row"><span>Spedizione</span><span>Calcolata al passo successivo</span></div>
          <div class="order-total-row"><span>IVA (22%)</span><span id="co-iva">inclusa</span></div>
          <div class="order-total-row grand"><span>Totale</span><span id="co-total">0,00 ‚Ç¨</span></div>
        </div>
        <button class="place-order-btn" onclick="placeOrder()">
          üîí Conferma e paga
        </button>
        <p class="terms-note">Cliccando "Conferma e paga" accetti i nostri <u>Termini e Condizioni</u> e la <u>Privacy Policy</u>.</p>
        <div style="margin-top:14px;padding:12px;background:var(--teal-pale);border-radius:8px;font-size:.78rem;color:var(--gray);text-align:center;line-height:1.6">
          üîí Pagamento sicuro SSL<br>‚úÖ Dati protetti e criptati
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATO GLOBALE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let cart = [];
let configState = { color: 'bianco', colorHex: '#ffffff', colorName: 'Bianco', size: 'M', position: 'fronte', qty: 1 };

const COLORS = [
  { id:'bianco',  hex:'#ffffff', name:'Bianco',       border:true },
  { id:'nero',    hex:'#1a1a1a', name:'Nero'               },
  { id:'teal',    hex:'#1a6b6b', name:'Verde petrolio'     },
  { id:'blu',     hex:'#2563eb', name:'Blu'                },
  { id:'rosso',   hex:'#dc2626', name:'Rosso'              },
  { id:'grigio',  hex:'#9ca3af', name:'Grigio'             },
  { id:'navy',    hex:'#1e3a5f', name:'Navy'               },
  { id:'giallo',  hex:'#fbbf24', name:'Giallo'             },
];
const SIZES    = ['XS','S','M','L','XL','XXL'];
const POSITIONS = [
  { id:'fronte',       label:'üëï Fronte'       },
  { id:'retro',        label:'üîÑ Retro'        },
  { id:'fronte-retro', label:'‚úåÔ∏è Fr+Retro'     },
  { id:'manica',       label:'üí™ Manica SX'    },
];

const PRODUCTS = [
  { id:1, name:'Quaderno A4 Righe', emoji:'üìì', price:'1,90 ‚Ç¨', cat:'cancelleria', badge:'Top' },
  { id:2, name:'Penne BIC (conf. 10)', emoji:'‚úíÔ∏è', price:'3,50 ‚Ç¨', cat:'cancelleria', badge:'' },
  { id:3, name:'Zaino Scuola', emoji:'üéí', price:'24,90 ‚Ç¨', cat:'scuola', badge:'Nuovo', badgeCls:'new' },
  { id:4, name:'Astuccio 3 Zip', emoji:'üóÉÔ∏è', price:'8,90 ‚Ç¨', cat:'scuola', badge:'' },
  { id:5, name:'Cartella Portadoc.', emoji:'üìÅ', price:'4,50 ‚Ç¨', cat:'ufficio', badge:'' },
  { id:6, name:'Agenda 2026', emoji:'üìÖ', price:'9,90 ‚Ç¨', cat:'regalo', badge:'Top' },
  { id:7, name:'Set Penne Colorate', emoji:'üñäÔ∏è', price:'6,90 ‚Ç¨', cat:'regalo', badge:'' },
  { id:8, name:'T-Shirt Personalizzata', emoji:'üëï', price:'da 12,00 ‚Ç¨', cat:'magliette', badge:'Custom', isShirt:true },
  { id:9, name:'Felpa con Cappuccio', emoji:'üß•', price:'da 22,00 ‚Ç¨', cat:'magliette', badge:'Inverno', isShirt:true },
  { id:10, name:'Polo Aziendale', emoji:'üëî', price:'da 18,00 ‚Ç¨', cat:'magliette', badge:'Business', isShirt:true },
  { id:11, name:'Evidenziatori (5 col.)', emoji:'üñçÔ∏è', price:'3,20 ‚Ç¨', cat:'cancelleria', badge:'' },
  { id:12, name:'Diario Scuola 2025', emoji:'üìí', price:'5,90 ‚Ç¨', cat:'scuola', badge:'Scuola' },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NAVIGAZIONE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function goPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page-' + id).classList.add('active');
  document.querySelectorAll('.pb-btn').forEach(b => b.classList.remove('active'));
  const map = { home:0, shop:1, product:2, cart:3, checkout:4 };
  document.querySelectorAll('.pb-btn')[map[id]]?.classList.add('active');
  window.scrollTo(0, 0);
  updateCartCounts();
  if (id === 'cart') renderCart();
  if (id === 'checkout') renderCheckout();
  if (id === 'product') initConfigurator();
  if (id === 'shop') renderShop('all');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SHOP
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderShop(cat) {
  const grid = document.getElementById('products-grid');
  const filtered = cat === 'all' ? PRODUCTS : PRODUCTS.filter(p => p.cat === cat);
  document.getElementById('result-count').textContent = `Visualizzazione di ${filtered.length} prodotti`;
  grid.innerHTML = filtered.map(p => `
    <div class="prod-card" onclick="${p.isShirt ? "goPage('product')" : `addToCart('${p.name}','${p.price}','${p.emoji}')`}">
      <div class="prod-img">
        ${p.emoji}
        ${p.badge ? `<div class="prod-badge ${p.badgeCls||''}">${p.badge}</div>` : ''}
      </div>
      <div class="prod-body">
        <div class="prod-name">${p.name}</div>
        <div class="prod-footer">
          <div class="prod-price">${p.price}</div>
          <button class="add-btn" onclick="event.stopPropagation();${p.isShirt ? "goPage('product')" : `addToCart('${p.name}','${p.price}','${p.emoji}')`}">
            ${p.isShirt ? 'Configura' : '+ Carrello'}
          </button>
        </div>
      </div>
    </div>
  `).join('');
}

function filterCat(btn, cat) {
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderShop(cat);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CONFIGURATORE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function initConfigurator() {
  // Colori
  const colorCont = document.getElementById('color-btns');
  if (!colorCont) return;
  colorCont.innerHTML = COLORS.map(c => `
    <div class="color-dot ${configState.color===c.id?'active':''}"
      style="background:${c.hex};${c.border?'border-color:#e5e7eb;border-width:3px':''}"
      title="${c.name}"
      onclick="selectColor('${c.id}','${c.hex}','${c.name}')">
    </div>
  `).join('') + `<span style="font-size:.75rem;color:var(--gray);margin-left:6px" id="color-name-display">${configState.colorName}</span>`;

  // Taglie
  document.getElementById('size-btns').innerHTML = SIZES.map(s => `
    <button class="size-btn ${configState.size===s?'active':''}" onclick="selectSize('${s}')">${s}</button>
  `).join('');

  // Posizioni
  document.getElementById('pos-btns').innerHTML = POSITIONS.map(p => `
    <button class="pos-btn ${configState.position===p.id?'active':''}" onclick="selectPos('${p.id}','${p.label}')">${p.label}</button>
  `).join('');

  updateShirtPreview();
  updateConfigSummary();
}

function selectColor(id, hex, name) {
  configState.color = id; configState.colorHex = hex; configState.colorName = name;
  document.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('color-label').textContent = name;
  const disp = document.getElementById('color-name-display');
  if (disp) disp.textContent = name;
  updateShirtPreview();
  updateConfigSummary();
}

function selectSize(s) {
  configState.size = s;
  document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('size-label').textContent = s;
  updateConfigSummary();
}

function selectPos(id, label) {
  configState.position = id;
  document.querySelectorAll('.pos-btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  updateConfigSummary();
}

function updateShirtPreview() {
  const body = document.getElementById('shirt-body');
  if (!body) return;
  body.setAttribute('fill', configState.colorHex);
  const isDark = isDarkColor(configState.colorHex);
  const lc = isDark ? 'rgba(255,255,255,0.2)' : '#e5e7eb';
  const ltc = isDark ? 'rgba(255,255,255,0.4)' : 'rgba(26,107,107,0.5)';
  const lbc = isDark ? 'rgba(255,255,255,0.3)' : 'rgba(26,107,107,0.3)';
  body.setAttribute('stroke', lc);
  document.querySelectorAll('#shirt-svg path[d*="Q100,75"]').forEach(p => p.setAttribute('stroke', lc));
  const la = document.getElementById('logo-area');
  if (la) la.setAttribute('stroke', lbc);
  document.querySelectorAll('#pt1,#pt2').forEach(t => t.setAttribute('fill', ltc));
}

function isDarkColor(hex) {
  const r = parseInt(hex.slice(1,3),16), g = parseInt(hex.slice(3,5),16), b = parseInt(hex.slice(5,7),16);
  return (r*299 + g*587 + b*114)/1000 < 128;
}

function updateConfigSummary() {
  const posLabel = POSITIONS.find(p => p.id === configState.position)?.label || configState.position;
  document.getElementById('sum-colore').textContent = configState.colorName;
  document.getElementById('sum-taglia').textContent = configState.size;
  document.getElementById('sum-pos').textContent = posLabel;
}

function changeQty(delta) {
  configState.qty = Math.max(1, configState.qty + delta);
  document.getElementById('qty-val').textContent = configState.qty;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CARRELLO
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function addToCart(name, price, emoji) {
  cart.push({ name, price, emoji, qty: 1 });
  updateCartCounts();
  showToast(`${emoji} ${name} aggiunto al carrello!`);
}

function updateCartCounts() {
  const n = cart.length;
  document.querySelectorAll('.cart-count').forEach(el => el.textContent = n);
}

function renderCart() {
  const tbody = document.getElementById('cart-tbody');
  const empty = document.getElementById('cart-empty');
  const content = document.getElementById('cart-content');

  if (cart.length === 0) {
    empty.style.display = 'block';
    content.style.display = 'none';
    return;
  }
  empty.style.display = 'none';
  content.style.display = 'block';

  tbody.innerHTML = cart.map((item, i) => `
    <tr class="cart-row">
      <td><button class="remove-btn" onclick="removeFromCart(${i})">‚úï</button></td>
      <td>
        <div class="cart-item-cell">
          <div class="cart-item-img">${item.emoji}</div>
          <div>
            <div class="cart-item-name">${item.name}</div>
            ${item.name.includes('Shirt') || item.name.includes('Felpa') || item.name.includes('Polo') ?
              `<div class="cart-item-meta">üé® Personalizzazione da definire in negozio</div>` : ''}
          </div>
        </div>
      </td>
      <td class="cart-price">${item.price}</td>
      <td>
        <div style="display:flex;align-items:center;gap:8px">
          <button class="qty-btn" style="width:28px;height:28px;font-size:.9rem" onclick="cartQty(${i},-1)">‚àí</button>
          <span style="font-weight:600;width:20px;text-align:center">${item.qty}</span>
          <button class="qty-btn" style="width:28px;height:28px;font-size:.9rem" onclick="cartQty(${i},1)">+</button>
        </div>
      </td>
      <td class="cart-price">${item.price}</td>
    </tr>
  `).join('');

  const subtotal = cart.length * 12;
  document.getElementById('cart-subtotal').textContent = subtotal.toFixed(2).replace('.',',') + ' ‚Ç¨';
  document.getElementById('cart-total').textContent = subtotal.toFixed(2).replace('.',',') + ' ‚Ç¨';
}

function removeFromCart(i) {
  cart.splice(i, 1);
  updateCartCounts();
  renderCart();
}

function cartQty(i, d) {
  cart[i].qty = Math.max(1, cart[i].qty + d);
  renderCart();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CHECKOUT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderCheckout() {
  const cont = document.getElementById('checkout-items');
  if (!cont) return;
  if (cart.length === 0) {
    cont.innerHTML = '<p style="color:var(--gray);font-size:.85rem">Nessun prodotto nel carrello.</p>';
  } else {
    cont.innerHTML = cart.map(item => `
      <div class="order-item">
        <div class="order-item-info">
          <div class="order-item-name">${item.emoji} ${item.name}</div>
          <div class="order-item-meta">Qt√†: ${item.qty}</div>
        </div>
        <div class="order-item-price">${item.price}</div>
      </div>
    `).join('');
  }
  const total = cart.length > 0 ? (cart.length * 12).toFixed(2).replace('.',',') + ' ‚Ç¨' : '0,00 ‚Ç¨';
  document.getElementById('co-subtotal').textContent = total;
  document.getElementById('co-total').textContent = total;
}

function placeOrder() {
  // Simulazione ordine completato
  document.getElementById('page-checkout').innerHTML = `
    <div class="topbar"><span>Cartolibreria Mannai Orietta</span></div>
    <div style="min-height:80vh;display:flex;align-items:center;justify-content:center;padding:40px 20px;text-align:center">
      <div style="max-width:520px">
        <div style="font-size:4rem;margin-bottom:16px;animation:bounceIn .6s ease">‚úÖ</div>
        <h1 style="font-family:'Cormorant Garamond',serif;font-size:2.4rem;color:var(--teal-dark);margin-bottom:12px">Ordine confermato!</h1>
        <p style="color:var(--gray);font-size:.95rem;line-height:1.7;margin-bottom:8px">Grazie per il tuo ordine. Riceverai una email di conferma a breve.</p>
        ${cart.some(i=>i.name.includes('Shirt')||i.name.includes('Felpa')||i.name.includes('Polo')) ?
          `<div style="background:var(--teal-pale);border-radius:var(--r);padding:20px;border:1px solid var(--teal-mid);margin:20px 0;text-align:left">
            <h4 style="color:var(--teal-dark);margin-bottom:8px">üëï Il tuo ordine contiene magliette personalizzate</h4>
            <p style="font-size:.85rem;color:var(--gray);line-height:1.6">Sarai contattato entro 24 ore per confermare il design e ricevere un'<strong>anteprima gratuita</strong> prima della stampa.</p>
          </div>` : ''}
        <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:24px">
          <button class="btn btn-teal" onclick="cart=[];updateCartCounts();goPage('home')">üè† Torna alla home</button>
          <button class="btn btn-outline-teal" onclick="cart=[];updateCartCounts();goPage('shop')">üõç Continua gli acquisti</button>
        </div>
      </div>
    </div>
  `;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TOAST
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  document.getElementById('toast-msg').textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 2800);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.addEventListener('DOMContentLoaded', function() {
  renderShop('all');

  // Aggiungi prodotti demo al carrello per preview carrello
  cart = [
    { name:'Quaderno A4 Righe', price:'1,90 ‚Ç¨', emoji:'üìì', qty:2 },
    { name:'T-Shirt Personalizzata', price:'12,00 ‚Ç¨', emoji:'üëï', qty:3 },
  ];
  updateCartCounts();

  // Animazione scroll per cards
  const obs = new IntersectionObserver(entries => {
    entries.forEach((e, i) => {
      if (e.isIntersecting) {
        setTimeout(() => { e.target.style.opacity='1'; e.target.style.transform='translateY(0)'; }, i*60);
        obs.unobserve(e.target);
      }
    });
  }, { threshold:.1 });

  document.querySelectorAll('.card,.serv-card,.rec-card,.prod-card').forEach(el => {
    el.style.opacity='0'; el.style.transform='translateY(16px)';
    el.style.transition='opacity .4s ease, transform .4s ease, box-shadow .3s, border-color .3s';
    obs.observe(el);
  });
});
</script>
</body>
</html>
